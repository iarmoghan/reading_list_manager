<%= form_with(model: book, local: true, class: "row g-3") do |form| %>
  <% if book.errors.any? %>
    <div class="alert alert-danger">
      <p class="mb-1"><strong><%= pluralize(book.errors.count, "error") %></strong> prevented saving:</p>
      <ul class="mb-0">
        <% book.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="col-md-6">
    <%= form.label :title, class: "form-label" %>
    <%= form.text_field :title, class: "form-control", required: true, autofocus: true %>
  </div>

  <div class="col-md-6">
    <%= form.label :author, class: "form-label" %>
    <%= form.text_field :author, class: "form-control", required: true %>
  </div>

  <div class="col-md-4">
    <%= form.label :status, class: "form-label" %>
    <%= form.select :status,
          Book.statuses.keys.map { |k| [k.titleize, k] },
          {},
          class: "form-select" %>
  </div>

  <div class="col-md-4">
    <%= form.label :rating, "Rating (0â€“5)", class: "form-label" %>
    <%= form.select :rating,
          options_for_select((0..5).to_a, book.rating),
          { include_blank: true },
          class: "form-select" %>
  </div>

  <div class="col-md-4">
    <%= form.label :started_on, class: "form-label" %>
    <%= form.date_field :started_on, class: "form-control" %>
  </div>

  <div class="col-md-4">
    <%= form.label :finished_on, class: "form-label" %>
    <%= form.date_field :finished_on, class: "form-control" %>
  </div>

  <div class="col-12">
    <%= form.label :notes, class: "form-label" %>
    <%= form.text_area :notes, rows: 4, class: "form-control" %>
  </div>

  <div class="col-12">
    <%= form.submit class: "btn btn-primary" %>
    <%= link_to "Cancel", (book.persisted? ? book : books_path), class: "btn btn-outline-secondary ms-2" %>
  </div>
<% end %>

